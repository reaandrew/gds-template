{% extends "govuk/template.njk" %}
 
{% from "govuk/components/service-navigation/macro.njk" import govukServiceNavigation %}
{% from "govuk/components/header/macro.njk" import govukHeader %}

{# Set custom container width following GOV.UK Design System pattern #}
{% set containerClasses = "app-width-container" %}
 
{% block head %}
  <link rel="stylesheet" href="/stylesheets/govuk-frontend.min.css">
  <style>
    /* Custom width container following GOV.UK Design System guidance */
    .app-width-container {
      max-width: 1400px; /* Expanded from default 1020px for better data table viewing */
      margin: 0 auto;
      padding: 0 15px;
    }
    
    /* Responsive padding for mobile devices */
    @media (min-width: 40.0625em) {
      .app-width-container {
        padding: 0 30px;
      }
    }
    
    /* Optimize tables for wider layout */
    .govuk-table {
      font-size: 14px;
    }
    
    /* Adjust grid proportions for data-heavy layouts */
    @media (min-width: 40.0625em) {
      .govuk-grid-column-two-thirds {
        width: 75%;
      }
      
      .govuk-grid-column-one-third {
        width: 25%;
      }
    }
    
    /* Left-hand navigation active states following GDS patterns */
    .app-subnav {
      margin-top: 20px;
    }
    
    .app-subnav__theme {
      margin-bottom: 15px;
      margin-top: 30px;
    }
    
    .app-subnav__theme:first-child {
      margin-top: 0;
    }
    
    .app-subnav .govuk-list li {
      margin-bottom: 8px;
      position: relative;
    }
    
    .app-subnav .govuk-link {
      display: block;
      padding: 8px 0;
      padding-left: 15px;
      text-decoration: none;
      border-left: 4px solid transparent;
      margin-left: -15px;
    }
    
    .app-subnav .govuk-link:hover {
      background-color: #f3f2f1;
      border-left-color: #505a5f;
    }
    
    .app-subnav .govuk-link.app-subnav__link--current {
      background-color: #1d70b8;
      border-left-color: #1d70b8;
      color: #ffffff;
      font-weight: bold;
    }
    
    .app-subnav .govuk-link.app-subnav__link--current:hover {
      background-color: #003078;
      border-left-color: #003078;
      color: #ffffff;
    }
    
    .app-subnav .govuk-link.app-subnav__link--current:visited {
      color: #ffffff;
    }
    
    /* Align header and navigation with custom container width */
    .govuk-service-navigation__container,
    .govuk-service-navigation__wrapper,
    .govuk-service-navigation .govuk-width-container,
    .govuk-service-navigation__navigation {
      max-width: 1400px !important;
      margin: 0 auto !important;
      padding-left: 15px !important;
      padding-right: 15px !important;
      box-sizing: border-box !important;
    }
    
    /* Header alignment - padding only, no width constraints */
    .govuk-header__container,
    .govuk-header .govuk-width-container,
    .govuk-header__content,
    .govuk-header__logotype {
      padding-left: 15px !important;
      padding-right: 15px !important;
    }
    
    /* Allow header backgrounds to be full width but constrain content */
    .govuk-header {
      max-width: none !important;
      margin: 0 !important;
      padding: 0 !important;
    }
    
    .govuk-service-navigation {
      max-width: none !important;
      margin: 0 !important;
      padding: 0 !important;
    }
    
    /* But constrain the content containers inside */
    .govuk-header__container,
    .govuk-header .govuk-width-container,
    .govuk-service-navigation__container,
    .govuk-service-navigation .govuk-width-container,
    .govuk-width-container {
      max-width: 1400px !important;
      margin: 0 auto !important;
      padding-left: 15px !important;
      padding-right: 15px !important;
      box-sizing: border-box !important;
    }
    
    @media (min-width: 40.0625em) {
      .govuk-service-navigation__container,
      .govuk-service-navigation__wrapper,
      .govuk-service-navigation .govuk-width-container,
      .govuk-service-navigation__navigation,
      .govuk-width-container {
        padding-left: 30px !important;
        padding-right: 30px !important;
      }
      
      /* Header responsive padding - no width constraints */
      .govuk-header__container,
      .govuk-header .govuk-width-container,
      .govuk-header__content,
      .govuk-header__logotype {
        padding-left: 30px !important;
        padding-right: 30px !important;
      }
    }
      
      .govuk-header [class*="container"],
      .govuk-header [class*="width"] {
        padding-left: 30px !important;
        padding-right: 30px !important;
      }
    }
    
  </style>
{% endblock %}
 
{% block header %}
{% from "govuk/components/header/macro.njk" import govukHeader %}
{% from "govuk/components/service-navigation/macro.njk" import govukServiceNavigation %}
 
{{ govukHeader({
  classes: "govuk-header--full-width-border"
}) }}
{{ govukServiceNavigation({
  serviceName: "Platform Policies and Standards",
  serviceUrl: "/",
  navigation: [
    {
      href: "/compliance",
      text: "Compliance Reports",
      active: currentSection === "compliance"
    },
    {
      href: "/policies",
      text: "Policies",
      active: currentSection === "policies"
    }
  ]
}) }}
 
{% endblock %}
 
 
{% block content %}
  <h1 class="govuk-heading-xl">Default page template</h1>
{% endblock %}
 
{% block bodyEnd %}
  {# Run JavaScript at end of the <body>, to avoid blocking the initial render. #}
  <script type="module" src="/javascripts/govuk-frontend.min.js"></script>
  <script type="module">
    import { initAll } from '/javascripts/govuk-frontend.min.js'
    initAll()
  </script>
{% endblock %}
